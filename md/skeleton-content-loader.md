## æ›´å¿«æ˜¾ç¤ºå’Œéª¨æ¶å±

ç”±äºæœ€è¿‘å‡ å¹´ Angular/React/Vue çš„ç›¸ç»§æ¨å‡ºå’Œæµè¡Œï¼Œå‰ç«¯æ¸²æŸ“å¼€å§‹å æ®ä¸»å¯¼ã€‚è¿™ç§æ¨¡å¼çš„åº”ç”¨ä¹Ÿå«å•é¡µåº”ç”¨ï¼ˆSPA, Single Page Applicationï¼‰ã€‚ä½†æ˜¯æ‰“å®Œçš„åŒ…å¾€å¾€ä½“ç§¯å¾ˆå¤§ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ  

#### å‰ç«¯æ¸²æŸ“

æ¨¡å¼æ˜¯æœåŠ¡å™¨ï¼ˆå¤šä¸ºé™æ€æœåŠ¡å™¨ï¼‰è¿”å›ä¸€ä¸ªå›ºå®šçš„ HTMLã€‚é€šå¸¸è¿™ä¸ª HTML åŒ…å«ä¸€ä¸ªç©ºçš„å®¹å™¨èŠ‚ç‚¹ï¼Œæ²¡æœ‰å…¶ä»–å†…å®¹ã€‚ä¹‹åå†…éƒ¨åŒ…å«çš„ JS åŒ…å«è·¯ç”±ç®¡ç†ï¼Œé¡µé¢æ¸²æŸ“ï¼Œé¡µé¢åˆ‡æ¢ï¼Œç»‘å®šäº‹ä»¶ç­‰ç­‰é€»è¾‘ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºå‰ç«¯æ¸²æŸ“ã€‚  

å› ä¸ºå‰ç«¯è¦ç®¡ç†çš„äº‹æƒ…å¾ˆå¤šï¼Œæ‰€ä»¥ JS é€šå¸¸å¾ˆå¤§å¾ˆå¤æ‚ï¼Œæ‰§è¡Œèµ·æ¥ä¹Ÿè¦èŠ±è¾ƒå¤šçš„æ—¶é—´ã€‚åœ¨ JS æ¸²æŸ“å‡ºå®é™…å†…å®¹ä¹‹å‰ï¼Œå¾€å¾€å°±æ˜¯å¤§ç™½å±ã€‚å¾ˆå¤šåŒå­¦éƒ½çŸ¥é“å¯ä»¥é€šè¿‡æœåŠ¡ç«¯æ¸²æŸ“æ¥è¿›è¡Œä¼˜åŒ–ã€‚  

#### æœåŠ¡ç«¯æ¸²æŸ“

åœ¨è¿™æ³¢å‰ç«¯æ¸²æŸ“æµè¡Œä¹‹å‰ï¼Œæ—©æœŸçš„ä¼ ç»Ÿç½‘ç«™é‡‡ç”¨çš„æ¨¡å¼å«åšåç«¯æ¸²æŸ“ï¼Œå³æœåŠ¡å™¨ç›´æ¥è¿”å›ç½‘ç«™çš„ HTML é¡µé¢ï¼Œå·²ç»åŒ…å«é¦–é¡µçš„å…¨éƒ¨ï¼ˆæˆ–ç»å¤§éƒ¨åˆ†ï¼‰ DOM å…ƒç´ ã€‚å…¶ä¸­åŒ…å«çš„ JS çš„ä½œç”¨å¤§å¤šæ˜¯ç»‘å®šäº‹ä»¶ï¼Œå®šä¹‰ç”¨æˆ·äº¤äº’åçš„è¡Œä¸ºç­‰ã€‚å°‘é‡ä¼šé¢å¤–æ·»åŠ /ä¿®æ”¹ä¸€äº› DOMï¼Œä½†æ— ç¢å¤§å±€ã€‚  

æ­¤å¤–ï¼Œå‰ç«¯æ¸²æŸ“çš„æ¨¡å¼å­˜åœ¨ SEO ä¸å‹å¥½çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒè¿”å›çš„ HTML æ˜¯ä¸€ä¸ªç©ºçš„å®¹å™¨ã€‚å¦‚æœæœç´¢å¼•æ“æ²¡æœ‰æ‰§è¡Œ JS çš„èƒ½åŠ›ï¼ˆç§°ä¸º Deep Renderï¼‰ï¼Œé‚£å®ƒå°±ä¸çŸ¥é“ä½ çš„ç«™ç‚¹ç©¶ç«Ÿæ˜¯ä»€ä¹ˆå†…å®¹ï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•æŠŠç«™ç‚¹æ’åˆ°æœç´¢ç»“æœä¸­å»ã€‚è¿™å¯¹äºç»å¤§éƒ¨åˆ†ç«™ç‚¹æ¥è¯´æ˜¯ä¸å¯æ¥å—çš„ï¼Œäºæ˜¯å‰ç«¯æ¡†æ¶åˆç›¸ç»§æ¨å‡ºäº†æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆç®€ç§° SSR, Server Side Renderingï¼‰æ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼å’Œä¼ ç»Ÿç½‘ç«™å¾ˆæ¥è¿‘ï¼Œåœ¨äºè¿”å›çš„ HTML ä¹Ÿæ˜¯åŒ…å«æ‰€æœ‰çš„ DOMï¼Œè€Œéå‰ç«¯æ¸²æŸ“ã€‚è€Œå‰ç«¯ JS é™¤äº†ç»‘å®šäº‹ä»¶ä¹‹å¤–ï¼Œè¿˜ä¼šå¤šåšä¸€ä¸ªäº‹æƒ…å«åšâ€œæ¿€æ´»â€ï¼ˆhydrationï¼‰ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚  

#### å‰ç«¯è§£å†³æ–¹æ¡ˆ
ä¸­å›½æ˜¯ä»…æ¬¡äºç¾å›½çš„Appå’Œwebåº”ç”¨å¤§å›½ï¼Œå›½å†…ç”¨æˆ·å¯¹äºé€Ÿåº¦å’Œä½“éªŒçš„è¦æ±‚æä¸ºå˜æ€ï¼ŒçœŸçš„ï¼Œå¤§å®¶ç§‘å­¦ä¸Šç½‘å»çœ‹çœ‹ä¸œå—äºšå›½å®¶ï¼Œæ¬§æ´²çš„webåº”ç”¨ï¼Œä¸€å †çš„alertâ€¦â€¦  

é‚£ä¹ˆæ€ä¹ˆåœ¨å·²ç»æ²¡å¾—ä¼˜åŒ–çš„åŸºç¡€ä¸Šç»§ç»­è®©åº”ç”¨æ›´â€å¿«â€œå‘¢ï¼Ÿé¢„æœŸå’Œæ¬ºéª—  

æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œé¢„æœŸæ˜¯è®©ç”¨æˆ·çŸ¥é“é¡µé¢åœ¨åŠ è½½ï¼Œå¹¶ä¸”åœ¨å†…å®¹å®é™…æ˜¾ç¤ºä¹‹å‰èƒ½å¤Ÿé¢„æµ‹å†…å®¹ï¼Œé‚£ä¹ˆä»–ä»¬ä¼šè®¤ä¸ºç³»ç»Ÿæ›´å¿«ã€æ›´æœ‰è€å¿ƒï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¸ç®¡ç†æœŸæœ›å’Œä¿æŒç”¨æˆ·çŸ¥æƒ…æœ‰å…³ã€‚  
å¯¹äºWebåº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªæ¦‚å¿µå¯èƒ½åŒ…æ‹¬æ˜¾ç¤ºæ–‡æœ¬ï¼Œå›¾åƒæˆ–å…¶ä»–å†…å®¹å…ƒç´ çš„â€œæ¨¡å‹â€ - ç§°ä¸ºéª¨æ¶å±ğŸ’€ã€‚å¯ä»¥åœ¨ç½‘ä¸Šå¯ä»¥çœ‹åˆ°ï¼ŒFacebookï¼ŒGoogleï¼ŒSlackç­‰å…¬å¸ä½¿ç”¨ï¼š  
> SVG component to create placeholder loading, like Facebook cards loading.   

æœ€ç®€å•çš„æ–¹æ¡ˆï¼šéª¨æ¶å±ï¼Œä¾èµ–å¼åŠ è½½

### å…·ä½“å®ç°
å…ˆåŠ è½½ä¸€ä¸ªæ²¡ä¸œè¥¿çš„åŸºç¡€é¡µé¢ï¼Œç„¶åæŒç»­åŠ è½½jså’Œcssä»¥åŠåå°æ•°æ®ï¼Œç›´åˆ°å®Œæ¯•å†è¿›è¡Œæ­£å¸¸æ˜¾ç¤ºã€‚å¯ä»¥åƒä¸‹é¢è¿™æ ·ï¼Œå…ˆåŠ è½½ä¸€ä¸ªç”»å¥½æ¡†æ¶éª¨å¤´çš„å›¾ç‰‡
```
    <html>
    <head>
    <style>
    /*éª¨æ¶å±çš„css*/
    </style>
    <link rel="stylesheet" href="index.css">
    <link rel="preload" href="index.css" as="style" onload="this.rel='stylesheet'">
    <!--
    é€šè¿‡preloadæå‰åŠ è½½å¼•å…¥çœŸå®éœ€è¦çš„CSSï¼Œé€šè¿‡jsçš„onloadè¿›è¡Œæ‰§è¡Œï¼Œå˜æˆæ­£å¼çš„cssè€Œä¸æ˜¯æ–‡ä»¶ï¼›
    jsæ–‡ä»¶ä¹Ÿæ˜¯ä¸€æ ·çš„åŸç†ï¼Œä¹Ÿå¯ä»¥åœ¨ä»£ç æœ€ä¸‹é¢æŒç»­åŠ è½½ï¼›
    -->
    </head>
    <body>
      <div id="app">
        <div class="skeleton-wrapper">
          <img src="data:image/svg+xml;base64,XXXXXX">
        </div>
      </div>
      <!-- å¼•ç”¨ JS -->
    </body>
    </html>
```
è¿˜æœ‰ç°æœ‰çš„reactè§£å†³æ–¹æ¡ˆï¼š react-content-loader[åœ°å€](https://github.com/danilowoz/react-content-loader)  
```
npm i react-content-loader --save
```
å®‰è£…ä¹‹åæœ‰å¾ˆå¤šç°æˆçš„è§£å†³æ–¹æ¡ˆå’Œè‡ªå®šä¹‰æ–¹æ¡ˆï¼Œåˆ†åˆ«ä¸¾ä¾‹
+ ç°æˆ

```
// import the component
    import { BulletList } from 'react-content-loader'

    const MyBulletListLoader = () => <BulletList />
```

+ è‡ªå®šä¹‰

```
    const MyLoader = () => (
      <ContentLoader height={140} speed={1} primaryColor={'#333'} secondaryColor={'#999'}>
        {/* Pure SVG */}
        <rect x="0" y="0" rx="5" ry="5" width="70" height="70" />
        <rect x="80" y="17" rx="4" ry="4" width="300" height="13" />
        <rect x="80" y="40" rx="3" ry="3" width="250" height="10" />
      </ContentLoader>
    )
```

è¿˜æœ‰é¥¿äº†ä¹ˆçš„webpackæ’ä»¶æ–¹æ¡ˆ  
[åœ°å€](https://github.com/ElemeFE/page-skeleton-webpack-plugin)  
